require('dotenv').config();

const DB_PASS = process.env.DB_PASS;
const JWT_SECRET = process.env.JWT_SECRET;
const GMAIL_PASSWORD = process.env.GMAIL_PASSWORD;
const AZURE_STORAGE_KEY = process.env.AZURE_STORAGE_KEY;

// Chat Stuff
const TWILIO_CHAT_SERVICE_SID = process.env.TWILIO_CHAT_SERVICE_SID;
const TWILIO_ACCOUNT_SID = process.env.TWILIO_ACCOUNT_SID;
const TWILIO_API_KEY = process.env.TWILIO_API_KEY;
const TWILIO_API_SECRET = process.env.TWILIO_API_SECRET;
const TWILIO_AUTH_TOKEN = process.env.TWILIO_AUTH_TOKEN;

const TOKEN_HEADER = 'Authorization';
const USER_TYPES = {
    PATIENT: 'patient', //puser
    DOCTOR: 'doctor', //duser
    INSURANCEPROVIDER: 'insurance', //ipuser
};
const DEFAULT_PROFILE = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGxGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDktMjRUMTQ6MzY6MDgtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTEwLTE5VDA5OjU4OjU3LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTEwLTE5VDA5OjU4OjU3LTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmU1MDkyNmQ5LTk0ZWYtNGI3OS1iZjQ3LWVjMzE0ODJiMDcwZCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1YzQ1NTM0OC05OTZmLTQyNzUtYjkyZS0zYTcxNjU4YjRhYTgiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1YzQ1NTM0OC05OTZmLTQyNzUtYjkyZS0zYTcxNjU4YjRhYTgiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjVjNDU1MzQ4LTk5NmYtNDI3NS1iOTJlLTNhNzE2NThiNGFhOCIgc3RFdnQ6d2hlbj0iMjAyMC0wOS0yNFQxNDozNjowOC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE5OGNhZDAxLTAyNTctNDk0Yy1iMmM4LWMzM2ViOGMxYzgwNSIgc3RFdnQ6d2hlbj0iMjAyMC0wOS0yNFQxNDo1NTozMi0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmU1MDkyNmQ5LTk0ZWYtNGI3OS1iZjQ3LWVjMzE0ODJiMDcwZCIgc3RFdnQ6d2hlbj0iMjAyMC0xMC0xOVQwOTo1ODo1Ny0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Q/cBzAAA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';

// Regex Functions
// Test at regex101.com
const regexLettersOnly = new RegExp(`^[a-zA-Z]{2,}$`);
const regexNumberOnly = new RegExp(`^[0-9]*$`);
const regexPhoneNumber = new RegExp(`^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$`);
const regexHeight = new RegExp(`^[3-7] (?:\\s*(?:[0][0-9]|[1][0-1]|[0-9])")?$`); // Example 5 8"
const regexWeight = new RegExp(`^(\\d*\\.?\\d{1,2})$`);
const regexTime = new RegExp(`^(\\d*\\.?\\d{1,2})$`);

function UserTypeToTableName(userType) {
    if (userType === USER_TYPES.PATIENT) return "patientUsers";
    else if (userType === USER_TYPES.DOCTOR) return "doctorUsers";
    else if (userType === USER_TYPES.INSURANCEPROVIDER) return "insuranceUsers";
    else return "ERROR";
}

function CleanErrorMessage(result) {
    if (result.error)
        result.error.message = result.error.message.replace(/\"/g, '');
    return result;
}

module.exports = {
    DB_PASS, JWT_SECRET, TOKEN_HEADER, GMAIL_PASSWORD, AZURE_STORAGE_KEY, TWILIO_CHAT_SERVICE_SID, TWILIO_ACCOUNT_SID, TWILIO_API_KEY, TWILIO_API_SECRET, TWILIO_AUTH_TOKEN, USER_TYPES, DEFAULT_PROFILE,
    regexLettersOnly, regexNumberOnly, regexPhoneNumber, regexHeight, regexWeight, regexTime,
    UserTypeToTableName, CleanErrorMessage
};